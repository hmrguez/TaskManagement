<div class="auth-container">
  <h2>{{ mode === 'login' ? 'Login to manage your tasks' : 'Sign up to start managing tasks' }}</h2>

  <form (ngSubmit)="submit()" #f="ngForm" class="auth-form">
    <label>
      Email
      <input type="email" name="email" [(ngModel)]="email" required />
    </label>

    <label *ngIf="mode === 'signup'">
      Username
      <input type="text" name="userName" [(ngModel)]="userName" />
    </label>

    <label>
      Password
      <input type="password" name="password" [(ngModel)]="password" required />
    </label>

    <button type="submit" [disabled]="loading || !f.form.valid">
      {{ mode === 'login' ? 'Login' : 'Sign up' }}
    </button>

    <div class="error" *ngIf="error">{{ error }}</div>
  </form>

  <p class="switch">
    <span *ngIf="mode === 'login'">Don't have an account?</span>
    <span *ngIf="mode === 'signup'">Already have an account?</span>
    <button type="button" (click)="switchMode(mode === 'login' ? 'signup' : 'login')">
      {{ mode === 'login' ? 'Create an account' : 'Go to login' }}
    </button>
  </p>
</div>
